<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phong</title>
</head>
<body>
    <button id="create_room">Tạo phòng</button>
    <input id="phongId" type="text"/>
    <button id="thamGia">Tham gia</button>

    <script src="../tienIch/Fetch.js"></script>
    <script>
        const token = localStorage.getItem("token");
        const create_room = document.querySelector("#create_room");
        const thamGia = document.getElementById("thamGia");

        create_room.addEventListener("click",()=>{
            const  fecth = new Fetch();
            fecth.postJWT('phong/tao',{ 
            }).then((data)=>{
                console.log(data);
                localStorage.setItem("phongId",data.id);
                window.location.href = "../troChoi/troChoi.html";
            })
        })
        thamGia.addEventListener("click", ()=>{
            const  fecth = new Fetch();
            const phongId = document.getElementById("phongId").value;
            fecth.postJWT('phong/tham-gia',{
                id: phongId
            }).then((data)=>{
                console.log(data);
                localStorage.setItem("phongId",data.id);
                window.location.href = "../troChoi/troChoi.html";
            })
        })
        // const thamGia = ()=>{
        //     const phongId = document.getElementById("phongId").value;
        //     localStorage.setItem("phongId",data.id);
        //     window.location.href = "../troChoi/troChoi.html";
        // }
    </script>
</body>
</html>